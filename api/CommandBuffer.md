#### [Friflo.Engine.ECS](index.md 'index')
### [Friflo.Engine.ECS](Friflo.Engine.ECS.md 'Friflo.Engine.ECS')

## CommandBuffer Class

A command buffer recording entity changes and execute these changes when calling [Playback()](CommandBuffer.Playback().md 'Friflo.Engine.ECS.CommandBuffer.Playback()').<br/>[CommandBuffer](CommandBuffer.md 'Friflo.Engine.ECS.CommandBuffer') is not thread safe. To record changes on arbitrary threads use [Synced](CommandBuffer.Synced.md 'Friflo.Engine.ECS.CommandBuffer.Synced').<br/>
See <a href="https://github.com/friflo/Friflo.Json.Fliox/wiki/Examples-~-Optimization#commandbuffer">Example.</a>

```csharp
public sealed class CommandBuffer :
Friflo.Engine.ECS.ICommandBuffer
```

Inheritance [System.Object](https://docs.microsoft.com/en-us/dotnet/api/System.Object 'System.Object') &#129106; CommandBuffer

Implements [ICommandBuffer](ICommandBuffer.md 'Friflo.Engine.ECS.ICommandBuffer')

| Properties | |
| :--- | :--- |
| [ChildCommandsCount](CommandBuffer.ChildCommandsCount.md 'Friflo.Engine.ECS.CommandBuffer.ChildCommandsCount') | Return the number of recorded add / remove child commands. |
| [ComponentCommandsCount](CommandBuffer.ComponentCommandsCount.md 'Friflo.Engine.ECS.CommandBuffer.ComponentCommandsCount') | Return the number of recorded components commands. |
| [EntityCommandsCount](CommandBuffer.EntityCommandsCount.md 'Friflo.Engine.ECS.CommandBuffer.EntityCommandsCount') | Return the number of recorded entity commands. |
| [EntityStore](CommandBuffer.EntityStore.md 'Friflo.Engine.ECS.CommandBuffer.EntityStore') | |
| [ReuseBuffer](CommandBuffer.ReuseBuffer.md 'Friflo.Engine.ECS.CommandBuffer.ReuseBuffer') | Set [ReuseBuffer](CommandBuffer.ReuseBuffer.md 'Friflo.Engine.ECS.CommandBuffer.ReuseBuffer') = true to reuse a [CommandBuffer](CommandBuffer.md 'Friflo.Engine.ECS.CommandBuffer') instance for multiple [Playback()](CommandBuffer.Playback().md 'Friflo.Engine.ECS.CommandBuffer.Playback()')'s. |
| [ScriptCommandsCount](CommandBuffer.ScriptCommandsCount.md 'Friflo.Engine.ECS.CommandBuffer.ScriptCommandsCount') | Return the number of recorded script commands. |
| [Synced](CommandBuffer.Synced.md 'Friflo.Engine.ECS.CommandBuffer.Synced') | Returns a command buffer that must be used in parallel queries - executed with [RunParallel()](QueryJob.RunParallel().md 'Friflo.Engine.ECS.QueryJob.RunParallel()'). |
| [TagCommandsCount](CommandBuffer.TagCommandsCount.md 'Friflo.Engine.ECS.CommandBuffer.TagCommandsCount') | Return the number of recorded tag commands. |

| Methods | |
| :--- | :--- |
| [AddChild(int, int)](CommandBuffer.AddChild(int,int).md 'Friflo.Engine.ECS.CommandBuffer.AddChild(int, int)') | Add the entity with the given [childId](CommandBuffer.AddChild(int,int).md#Friflo.Engine.ECS.CommandBuffer.AddChild(int,int).childId 'Friflo.Engine.ECS.CommandBuffer.AddChild(int, int).childId') as a child to the entity with the passed [parentId](CommandBuffer.AddChild(int,int).md#Friflo.Engine.ECS.CommandBuffer.AddChild(int,int).parentId 'Friflo.Engine.ECS.CommandBuffer.AddChild(int, int).parentId'). |
| [AddComponent&lt;T&gt;(int, T)](CommandBuffer.AddComponent_T_(int,T).md 'Friflo.Engine.ECS.CommandBuffer.AddComponent<T>(int, T)') | Add the given [component](CommandBuffer.AddComponent_T_(int,T).md#Friflo.Engine.ECS.CommandBuffer.AddComponent_T_(int,T).component 'Friflo.Engine.ECS.CommandBuffer.AddComponent<T>(int, T).component') with type [T](CommandBuffer.AddComponent_T_(int,T).md#Friflo.Engine.ECS.CommandBuffer.AddComponent_T_(int,T).T 'Friflo.Engine.ECS.CommandBuffer.AddComponent<T>(int, T).T') to the entity with the passed [entityId](CommandBuffer.AddComponent_T_(int,T).md#Friflo.Engine.ECS.CommandBuffer.AddComponent_T_(int,T).entityId 'Friflo.Engine.ECS.CommandBuffer.AddComponent<T>(int, T).entityId'). |
| [AddComponent&lt;T&gt;(int)](CommandBuffer.AddComponent_T_(int).md 'Friflo.Engine.ECS.CommandBuffer.AddComponent<T>(int)') | Add the [IComponent](IComponent.md 'Friflo.Engine.ECS.IComponent') with type [T](CommandBuffer.AddComponent_T_(int).md#Friflo.Engine.ECS.CommandBuffer.AddComponent_T_(int).T 'Friflo.Engine.ECS.CommandBuffer.AddComponent<T>(int).T') to the entity with the passed [entityId](CommandBuffer.AddComponent_T_(int).md#Friflo.Engine.ECS.CommandBuffer.AddComponent_T_(int).entityId 'Friflo.Engine.ECS.CommandBuffer.AddComponent<T>(int).entityId'). |
| [AddScript&lt;T&gt;(int, T)](CommandBuffer.AddScript_T_(int,T).md 'Friflo.Engine.ECS.CommandBuffer.AddScript<T>(int, T)') | Add the given [script](CommandBuffer.AddScript_T_(int,T).md#Friflo.Engine.ECS.CommandBuffer.AddScript_T_(int,T).script 'Friflo.Engine.ECS.CommandBuffer.AddScript<T>(int, T).script') to the entity with the passed [entityId](CommandBuffer.AddScript_T_(int,T).md#Friflo.Engine.ECS.CommandBuffer.AddScript_T_(int,T).entityId 'Friflo.Engine.ECS.CommandBuffer.AddScript<T>(int, T).entityId'). |
| [AddTag&lt;T&gt;(int)](CommandBuffer.AddTag_T_(int).md 'Friflo.Engine.ECS.CommandBuffer.AddTag<T>(int)') | Add the [ITag](ITag.md 'Friflo.Engine.ECS.ITag') with type [T](CommandBuffer.AddTag_T_(int).md#Friflo.Engine.ECS.CommandBuffer.AddTag_T_(int).T 'Friflo.Engine.ECS.CommandBuffer.AddTag<T>(int).T') to the entity with the passed [entityId](CommandBuffer.AddTag_T_(int).md#Friflo.Engine.ECS.CommandBuffer.AddTag_T_(int).entityId 'Friflo.Engine.ECS.CommandBuffer.AddTag<T>(int).entityId'). |
| [AddTags(int, Tags)](CommandBuffer.AddTags(int,Tags).md 'Friflo.Engine.ECS.CommandBuffer.AddTags(int, Friflo.Engine.ECS.Tags)') | Add the [tags](CommandBuffer.AddTags(int,Tags).md#Friflo.Engine.ECS.CommandBuffer.AddTags(int,Friflo.Engine.ECS.Tags).tags 'Friflo.Engine.ECS.CommandBuffer.AddTags(int, Friflo.Engine.ECS.Tags).tags') to the entity with the passed [entityId](CommandBuffer.AddTags(int,Tags).md#Friflo.Engine.ECS.CommandBuffer.AddTags(int,Friflo.Engine.ECS.Tags).entityId 'Friflo.Engine.ECS.CommandBuffer.AddTags(int, Friflo.Engine.ECS.Tags).entityId'). |
| [Clear()](CommandBuffer.Clear().md 'Friflo.Engine.ECS.CommandBuffer.Clear()') | |
| [CreateEntity()](CommandBuffer.CreateEntity().md 'Friflo.Engine.ECS.CommandBuffer.CreateEntity()') | Creates a new entity on [Playback()](CommandBuffer.Playback().md 'Friflo.Engine.ECS.CommandBuffer.Playback()') which will have the returned entity id. |
| [DeleteEntity(int)](CommandBuffer.DeleteEntity(int).md 'Friflo.Engine.ECS.CommandBuffer.DeleteEntity(int)') | Deletes the entity with the passed [entityId](CommandBuffer.DeleteEntity(int).md#Friflo.Engine.ECS.CommandBuffer.DeleteEntity(int).entityId 'Friflo.Engine.ECS.CommandBuffer.DeleteEntity(int).entityId') on [Playback()](CommandBuffer.Playback().md 'Friflo.Engine.ECS.CommandBuffer.Playback()'). |
| [Playback()](CommandBuffer.Playback().md 'Friflo.Engine.ECS.CommandBuffer.Playback()') | Execute recorded entity changes. [Playback()](CommandBuffer.Playback().md 'Friflo.Engine.ECS.CommandBuffer.Playback()') must be called on the <b>main</b> thread.<br/> See <a href="https://github.com/friflo/Friflo.Json.Fliox/wiki/Examples-~-Optimization#commandbuffer">Example.</a> |
| [RemoveChild(int, int)](CommandBuffer.RemoveChild(int,int).md 'Friflo.Engine.ECS.CommandBuffer.RemoveChild(int, int)') | Remove the child entity with given [childId](CommandBuffer.RemoveChild(int,int).md#Friflo.Engine.ECS.CommandBuffer.RemoveChild(int,int).childId 'Friflo.Engine.ECS.CommandBuffer.RemoveChild(int, int).childId') from the parent entity with the the passed [parentId](CommandBuffer.RemoveChild(int,int).md#Friflo.Engine.ECS.CommandBuffer.RemoveChild(int,int).parentId 'Friflo.Engine.ECS.CommandBuffer.RemoveChild(int, int).parentId'). |
| [RemoveComponent&lt;T&gt;(int)](CommandBuffer.RemoveComponent_T_(int).md 'Friflo.Engine.ECS.CommandBuffer.RemoveComponent<T>(int)') | Remove the [IComponent](IComponent.md 'Friflo.Engine.ECS.IComponent') with type [T](CommandBuffer.RemoveComponent_T_(int).md#Friflo.Engine.ECS.CommandBuffer.RemoveComponent_T_(int).T 'Friflo.Engine.ECS.CommandBuffer.RemoveComponent<T>(int).T') from the entity with the passed [entityId](CommandBuffer.RemoveComponent_T_(int).md#Friflo.Engine.ECS.CommandBuffer.RemoveComponent_T_(int).entityId 'Friflo.Engine.ECS.CommandBuffer.RemoveComponent<T>(int).entityId'). |
| [RemoveScript&lt;T&gt;(int)](CommandBuffer.RemoveScript_T_(int).md 'Friflo.Engine.ECS.CommandBuffer.RemoveScript<T>(int)') | Remove the [Script](Script.md 'Friflo.Engine.ECS.Script') of the specified type [T](CommandBuffer.RemoveScript_T_(int).md#Friflo.Engine.ECS.CommandBuffer.RemoveScript_T_(int).T 'Friflo.Engine.ECS.CommandBuffer.RemoveScript<T>(int).T') from the entity with the passed [entityId](CommandBuffer.RemoveScript_T_(int).md#Friflo.Engine.ECS.CommandBuffer.RemoveScript_T_(int).entityId 'Friflo.Engine.ECS.CommandBuffer.RemoveScript<T>(int).entityId'). |
| [RemoveTag&lt;T&gt;(int)](CommandBuffer.RemoveTag_T_(int).md 'Friflo.Engine.ECS.CommandBuffer.RemoveTag<T>(int)') | Remove the [ITag](ITag.md 'Friflo.Engine.ECS.ITag') with type [T](CommandBuffer.RemoveTag_T_(int).md#Friflo.Engine.ECS.CommandBuffer.RemoveTag_T_(int).T 'Friflo.Engine.ECS.CommandBuffer.RemoveTag<T>(int).T') from the entity with the passed [entityId](CommandBuffer.RemoveTag_T_(int).md#Friflo.Engine.ECS.CommandBuffer.RemoveTag_T_(int).entityId 'Friflo.Engine.ECS.CommandBuffer.RemoveTag<T>(int).entityId'). |
| [RemoveTags(int, Tags)](CommandBuffer.RemoveTags(int,Tags).md 'Friflo.Engine.ECS.CommandBuffer.RemoveTags(int, Friflo.Engine.ECS.Tags)') | Remove the [tags](CommandBuffer.RemoveTags(int,Tags).md#Friflo.Engine.ECS.CommandBuffer.RemoveTags(int,Friflo.Engine.ECS.Tags).tags 'Friflo.Engine.ECS.CommandBuffer.RemoveTags(int, Friflo.Engine.ECS.Tags).tags') from the entity with the passed [entityId](CommandBuffer.RemoveTags(int,Tags).md#Friflo.Engine.ECS.CommandBuffer.RemoveTags(int,Friflo.Engine.ECS.Tags).entityId 'Friflo.Engine.ECS.CommandBuffer.RemoveTags(int, Friflo.Engine.ECS.Tags).entityId'). |
| [ReturnBuffer()](CommandBuffer.ReturnBuffer().md 'Friflo.Engine.ECS.CommandBuffer.ReturnBuffer()') | Return the resources of the [CommandBuffer](CommandBuffer.md 'Friflo.Engine.ECS.CommandBuffer') to the [EntityStore](CommandBuffer.EntityStore.md 'Friflo.Engine.ECS.CommandBuffer.EntityStore'). |
| [SetComponent&lt;T&gt;(int, T)](CommandBuffer.SetComponent_T_(int,T).md 'Friflo.Engine.ECS.CommandBuffer.SetComponent<T>(int, T)') | Set the given [component](CommandBuffer.SetComponent_T_(int,T).md#Friflo.Engine.ECS.CommandBuffer.SetComponent_T_(int,T).component 'Friflo.Engine.ECS.CommandBuffer.SetComponent<T>(int, T).component') with type [T](CommandBuffer.SetComponent_T_(int,T).md#Friflo.Engine.ECS.CommandBuffer.SetComponent_T_(int,T).T 'Friflo.Engine.ECS.CommandBuffer.SetComponent<T>(int, T).T') of the entity with the passed [entityId](CommandBuffer.SetComponent_T_(int,T).md#Friflo.Engine.ECS.CommandBuffer.SetComponent_T_(int,T).entityId 'Friflo.Engine.ECS.CommandBuffer.SetComponent<T>(int, T).entityId'). |
| [ToString()](CommandBuffer.ToString().md 'Friflo.Engine.ECS.CommandBuffer.ToString()') | |

| Explicit Interface Implementations | |
| :--- | :--- |
| [Friflo.Engine.ECS.ICommandBuffer.AddComponent&lt;T&gt;(int, T)](CommandBuffer.Friflo.Engine.ECS.ICommandBuffer.AddComponent_T_(int,T).md 'Friflo.Engine.ECS.CommandBuffer.Friflo.Engine.ECS.ICommandBuffer.AddComponent<T>(int, T)') | |
| [Friflo.Engine.ECS.ICommandBuffer.AddTags(int, Tags)](CommandBuffer.Friflo.Engine.ECS.ICommandBuffer.AddTags(int,Tags).md 'Friflo.Engine.ECS.CommandBuffer.Friflo.Engine.ECS.ICommandBuffer.AddTags(int, Friflo.Engine.ECS.Tags)') | |
| [Friflo.Engine.ECS.ICommandBuffer.RemoveTags(int, Tags)](CommandBuffer.Friflo.Engine.ECS.ICommandBuffer.RemoveTags(int,Tags).md 'Friflo.Engine.ECS.CommandBuffer.Friflo.Engine.ECS.ICommandBuffer.RemoveTags(int, Friflo.Engine.ECS.Tags)') | |
| [Friflo.Engine.ECS.ICommandBuffer.SetComponent&lt;T&gt;(int, T)](CommandBuffer.Friflo.Engine.ECS.ICommandBuffer.SetComponent_T_(int,T).md 'Friflo.Engine.ECS.CommandBuffer.Friflo.Engine.ECS.ICommandBuffer.SetComponent<T>(int, T)') | |
